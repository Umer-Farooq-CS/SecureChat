# Test Report Generation

## Overview

Both automatic and manual test suites now automatically generate comprehensive test reports in the `reports/` directory.

## Automatic Test Reports

### Generated By
- `tests/run_all_tests.py`

### Report Files
- **JSON:** `reports/automatic_tests_YYYYMMDD_HHMMSS.json`
- **Text:** `reports/automatic_tests_YYYYMMDD_HHMMSS.txt`

### Contents
- Test summary (total, passed, failed, errors, skipped)
- Success rate percentage
- List of all test modules executed
- Detailed failure information (if any)
- Error details (if any)
- Skipped tests with reasons

### Example
```bash
python tests/run_all_tests.py
# Report automatically generated in reports/
```

## Manual Test Reports

### Generated By
Each manual test script generates its own report:

1. **Traffic Capture:** `tests/manual/capture_traffic.sh`
   - Report: `reports/manual_traffic_capture_*.json`

2. **Invalid Certificates:** `tests/manual/test_invalid_certs.sh`
   - Report: `reports/manual_invalid_certificates_*.json`

3. **Tampering Test:** `tests/manual/test_tampering.sh`
   - Report: `reports/manual_tampering_*.json`

4. **Replay Test:** `tests/manual/test_replay.sh`
   - Report: `reports/manual_replay_*.json`

### Contents
- Test name and type
- Test status
- Output file locations
- Guide locations
- Expected errors
- Notes and instructions

## Summary Reports

### Generated By
- `tests/manual/run_all_tests.sh` (after all tests)

### Report Files
- **JSON:** `reports/test_summary_YYYYMMDD_HHMMSS.json`
- **Text:** `reports/test_summary_YYYYMMDD_HHMMSS.txt`

### Contents
- List of all generated reports
- Total number of reports
- Timestamp of summary generation

## Report Formats

### JSON Format
Structured data for programmatic access and parsing:
```json
{
  "report_type": "automatic_tests",
  "timestamp": "2025-11-13T11:44:45",
  "summary": {
    "total_tests": 88,
    "passed": 88,
    "success_rate": 100.0
  }
}
```

### Text Format
Human-readable format suitable for:
- Quick review
- Inclusion in test report documents
- Printing
- Sharing with team members

## Usage

### View Reports
```bash
# View latest automatic test report
cat reports/automatic_tests_*.txt | tail -1

# View all reports
ls -lh reports/

# View JSON report (formatted)
cat reports/automatic_tests_*.json | python -m json.tool
```

### Include in Documents
The text reports can be directly copied into your test report document (`.docx`).

### Programmatic Access
Use the JSON reports for:
- Automated analysis
- Dashboard generation
- CI/CD integration
- Trend analysis

## Report Structure

### Automatic Test Report Structure
```
Report Header
├── Summary
│   ├── Total Tests
│   ├── Passed/Failed/Errors/Skipped
│   ├── Success Rate
│   └── Overall Status
├── Test Modules
│   └── List of all test modules
├── Failures (if any)
│   ├── Test name
│   ├── Error message
│   └── Traceback
├── Errors (if any)
│   ├── Test name
│   ├── Error message
│   └── Traceback
└── Skipped Tests (if any)
    ├── Test name
    └── Reason
```

### Manual Test Report Structure
```
Report Header
├── Test Name
├── Test Type
├── Status
├── Output Files
├── Guide Location
├── Expected Errors
└── Notes
```

## Integration

### Automatic Tests
Reports are generated automatically after each test run. No additional steps required.

### Manual Tests
Reports are generated when:
- Test script completes successfully
- Test guide is created
- Test output files are generated

### Summary Report
Generated when running `run_all_tests.sh` which collects all individual reports.

## Benefits

1. **Documentation:** Automatic documentation of all test runs
2. **Traceability:** Track test results over time
3. **Evidence:** Ready-to-use evidence for reports
4. **Analysis:** Easy comparison of test runs
5. **Compliance:** Meets assignment requirements for test documentation

## Notes

- Reports are timestamped for easy identification
- Old reports are not automatically deleted (manual cleanup may be needed)
- Both JSON and text formats are generated for flexibility
- Reports include all necessary information for test report documents

